<Window x:Class="ChatDesktop.App.Views.UnifyTaskDetailWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:md="clr-namespace:Markdig.Wpf;assembly=Markdig.Wpf"
        Title="任务详情" Height="560" Width="720" WindowStartupLocation="CenterOwner">
  <Grid Margin="16">
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto" />
      <RowDefinition Height="*" />
      <RowDefinition Height="Auto" />
    </Grid.RowDefinitions>

    <StackPanel Grid.Row="0">
      <TextBlock Text="{Binding Title}" FontSize="18" FontWeight="Bold" />
      <StackPanel Orientation="Horizontal" Margin="0,8,0,0">
        <TextBlock Text="派发给: " />
        <TextBlock Text="{Binding AssignedTo}" Margin="0,0,16,0" />
        <TextBlock Text="派发人: " />
        <TextBlock Text="{Binding AssignedBy}" Margin="0,0,16,0" />
        <TextBlock Text="到期: " />
        <TextBlock Text="{Binding DueDate}" />
      </StackPanel>
    </StackPanel>

    <ScrollViewer Grid.Row="1" Margin="0,12,0,12">
      <StackPanel>
        <TextBlock Text="任务描述" FontWeight="Bold" Margin="0,0,0,6" />
        <md:MarkdownViewer Markdown="{Binding Description}" Background="Transparent" />
        <TextBlock Text="标签" FontWeight="Bold" Margin="0,12,0,6" />
        <TextBlock Text="{Binding Tags}" />
      </StackPanel>
    </ScrollViewer>

    <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right">
      <Button Content="标记已读" Command="{Binding MarkReadCommand}" Margin="0,0,8,0" />
      <Button Content="完成" Command="{Binding CompleteCommand}" Margin="0,0,8,0" />
      <Button Content="关闭" Command="{Binding CloseCommand}" />
    </StackPanel>
  </Grid>
</Window>
